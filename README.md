[RU](#ru-section) - [EN](#en-section)

<a id="ru-section"></a>
## RU
---

# Telegram-–±–æ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ Google Gemini

[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/)
[![Telegram Bot](https://img.shields.io/badge/Telegram-%40degenerative__ai__bot-blue)](https://t.me/degenerative_ai_bot)
[![Deploy to Server](https://github.com/aeee78/tg_gemini_bot/actions/workflows/deploy.yml/badge.svg)](https://github.com/aeee78/tg_gemini_bot/actions/workflows/deploy.yml)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç Telegram-–±–æ—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–≥–æ Google Gemini API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏. –ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–æ–¥–µ–ª–∏ Gemini, –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –æ–±—Ä–∞–±–æ—Ç–∫—É —Ñ–∞–π–ª–æ–≤, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Google Search, –±—ã—Å—Ç—Ä—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á –∏ –≥–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–æ–º.

## > –†–∞–±–æ—á–∏–π –±–æ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É [@degenerative_ai_bot](https://t.me/degenerative_ai_bot)

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

-   **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —á–∞—Ç:** –ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è.
-   **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π Gemini:** –í—ã–±–∏—Ä–∞–π—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –¥–ª—è –≤–∞—à–∏—Ö –∑–∞–¥–∞—á:
    -   `2.5 Flash üöÄ` (`gemini-2.5-flash-preview-05-20`)
    -   `2.5 Proüí°` (`gemini-2.5-pro-preview-05-06`) - –î–æ—Å—Ç—É–ø –∫ —ç—Ç–æ–π –º–æ–¥–µ–ª–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ (—Å–º. –∫–æ–º–∞–Ω–¥—É `/unlock_pro`).
    -   `2.0 Flash‚ùì` (`gemini-2.0-flash`)
-   **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:** –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –∑–∞–ø—Ä–æ—Å—É —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `/generate <–∑–∞–ø—Ä–æ—Å>` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å `gemini-2.0-flash-exp-image-generation`).
-   **–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:** –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∏ –æ–Ω –µ–≥–æ –æ–ø–∏—à–µ—Ç.
-   **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤:** –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –±–æ—Ç—É —Ñ–∞–π–ª—ã (PDF, TXT, PY, JS, HTML, CSS, MD, CSV, XML, RTF) —Ä–∞–∑–º–µ—Ä–æ–º –¥–æ 20 –ú–ë. –ë–æ—Ç —É—á—Ç–µ—Ç –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∏ –æ—Ç–≤–µ—Ç–∞—Ö –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏.
-   **–†–µ–∂–∏–º—ã –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π:**
    -   `–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π ‚ö°`: –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ/—Ñ–æ—Ç–æ/—Ñ–∞–π–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Gemini —Å—Ä–∞–∑—É.
    -   `–†—É—á–Ω–æ–π ‚úçÔ∏è`: –°–æ–æ–±—â–µ–Ω–∏—è/—Ñ–æ—Ç–æ/—Ñ–∞–π–ª—ã –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –≤ –±—É—Ñ–µ—Ä–µ. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å—ë", —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏—Ö —Ä–∞–∑–æ–º.
-   **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Search:** –í–∫–ª—é—á–∏—Ç–µ –ø–æ–∏—Å–∫ Google (–∫–Ω–æ–ø–∫–∞ "–ü–æ–∏—Å–∫: ..."), —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏.
-   **–ë—ã—Å—Ç—Ä—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Quick Tools):** –ù–∞–±–æ—Ä –∫–æ–º–∞–Ω–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/translate`, `/rewrite`, `/prompt`) –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á —Å –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏. –≠—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç. –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–º. –≤ —Ä–∞–∑–¥–µ–ª–µ "–ö–æ–º–∞–Ω–¥—ã".
-   **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:** –ù–∞—á–Ω–∏—Ç–µ "–ù–æ–≤—ã–π —á–∞—Ç", —á—Ç–æ–±—ã –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç (–≤–∫–ª—é—á–∞—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã).
-   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:** –û—Ç–≤–µ—Ç—ã, –ø—Ä–µ–≤—ã—à–∞—é—â–∏–µ –ª–∏–º–∏—Ç Telegram, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è. –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤ –≤–∏–¥–µ —Ñ–∞–π–ª–∞ .txt (–∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∞ "–ü–æ–ª—É—á–∏—Ç—å –≤ –≤–∏–¥–µ —Ñ–∞–π–ª–∞") –∏–ª–∏ .md (–∫–Ω–æ–ø–∫–∞ "–ü–æ–ª—É—á–∏—Ç—å .MD üìÑ").
-   **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –û—Å–Ω–æ–≤–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â—É—é –≤—ã–±—Ä–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å, —Ä–µ–∂–∏–º –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ —Å—Ç–∞—Ç—É—Å –ø–æ–∏—Å–∫–∞ Google.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/aeee78/tg_gemini_bot.git
    cd tg_gemini_bot
    ```
2.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
    ```bash
    python -m venv venv
    source venv/bin/activate  # Linux/macOS
    # venv\Scripts\activate  # Windows
    ```
3.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install -r requirements.txt
    ```
4.  **–ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏:**
    -   **Telegram API:** –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather).
    -   **Google Gemini API:** –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –≤ [Google AI Studio](https://aistudio.google.com/apikey).
5.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
    –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ (–º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.env.example` –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å: `cp env.example .env`). –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ –∫–ª—é—á–∏:
    ```plaintext
    TELEGRAM_TOKEN=<–≤–∞—à_—Ç–æ–∫–µ–Ω_telegram>
    GEMINI_API_KEY=<–≤–∞—à_api_–∫–ª—é—á_gemini>
    PRO_CODE=<–≤–∞—à_–∫–æ–¥_–¥–ª—è_pro_–¥–æ—Å—Ç—É–ø–∞_–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ> # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /unlock_pro –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –º–æ–¥–µ–ª–∏ 2.5 Pro
    ```
6.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
    ```bash
    python gemini_bot.py
    ```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1.  **–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã:** –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –∫–æ–º–∞–Ω–¥—É `/start`. –ë–æ—Ç –ø–æ–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—Å –∏ –ø–æ–∫–∞–∂–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É.
2.  **–û–±—â–µ–Ω–∏–µ:**
    -   –ü—Ä–æ—Å—Ç–æ –ø–∏—à–∏—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
    -   –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (–±–æ—Ç –∏—Ö –æ–ø–∏—à–µ—Ç –∏–ª–∏ —É—á—Ç–µ—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω —Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º).
    -   –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã (–±–æ—Ç —É—á—Ç–µ—Ç –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ).
3.  **–í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏:** –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É `–ú–æ–¥–µ–ª—å: ...`, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é –≤–µ—Ä—Å–∏—é Gemini –∏–∑ —Å–ø–∏—Å–∫–∞. –î–æ—Å—Ç—É–ø –∫ `2.5 Proüí°` –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –≤–≤–æ–¥–∞ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/unlock_pro <–∫–æ–¥>`. –°–º–µ–Ω–∞ –º–æ–¥–µ–ª–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –Ω–æ–≤—ã–π —á–∞—Ç.
4.  **–†–µ–∂–∏–º –æ—Ç–ø—Ä–∞–≤–∫–∏:** –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É `–†–µ–∂–∏–º: ...`, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É `–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π ‚ö°` –∏ `–†—É—á–Ω–æ–π ‚úçÔ∏è`. –í —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É `–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å—ë` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π/—Ñ–æ—Ç–æ/—Ñ–∞–π–ª–æ–≤.
5.  **–ü–æ–∏—Å–∫ Google:** –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É `–ü–æ–∏—Å–∫: ...`, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –∏–ª–∏ –≤—ã–∫–ª—é—á–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Google Search.
6.  **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/generate <–≤–∞—à —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å>`.
7.  **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:** –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –±—ã–ª —Ä–∞–∑–±–∏—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫—É "–ü–æ–ª—É—á–∏—Ç—å –≤ –≤–∏–¥–µ —Ñ–∞–π–ª–∞" (.txt) –∏–ª–∏ –æ—Å–Ω–æ–≤–Ω—É—é –∫–Ω–æ–ø–∫—É "–ü–æ–ª—É—á–∏—Ç—å .MD üìÑ" (.md).
8.  **–ù–æ–≤—ã–π –¥–∏–∞–ª–æ–≥:** –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É `–ù–æ–≤—ã–π —á–∞—Ç`, —á—Ç–æ–±—ã —Å–±—Ä–æ—Å–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–µ—Å–µ–¥—ã.
9.  **–ë—ã—Å—Ç—Ä—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å–æ `/` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/translate <—Ç–µ–∫—Å—Ç>`), –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á. –°–º. –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤ —Ä–∞–∑–¥–µ–ª–µ "–ö–æ–º–∞–Ω–¥—ã".
10. **–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ PRO –º–æ–¥–µ–ª–∏:** –ï—Å–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –±–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–∏–ª `PRO_CODE`, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/unlock_pro <–∫–æ–¥_–¥–æ—Å—Ç—É–ø–∞>` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –º–æ–¥–µ–ª–∏ `2.5 Proüí°`.
11. **–°–ø—Ä–∞–≤–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/help` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö –±–æ—Ç–∞.

## –ö–æ–º–∞–Ω–¥—ã

-   `/start` - üöÄ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ / –ù–∞—á–∞—Ç—å —á–∞—Ç
-   `/generate <–∑–∞–ø—Ä–æ—Å>` - üñºÔ∏è –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–Ω–∞–ø—Ä. `/generate –∫–æ—Ç`)
-   `/help` - ‚ÑπÔ∏è –°–ø—Ä–∞–≤–∫–∞ –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º –±–æ—Ç–∞
-   `/unlock_pro <–∫–æ–¥>` - üîë –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –º–æ–¥–µ–ª–∏ `2.5 Proüí°` (–µ—Å–ª–∏ `PRO_CODE` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ .env).

### –ë—ã—Å—Ç—Ä—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

–≠—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∞—à–µ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —á–∞—Ç–∞. –û–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ü–µ–ª–µ–π.

-   `/translate <—Ç–µ–∫—Å—Ç>` - ru<>en –ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞
-   `/prompt <—Ç–µ–∫—Å—Ç_–ø—Ä–æ–º–ø—Ç–∞>` - ‚ú® –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ (–∑–∞–ø—Ä–æ—Å–∞) –¥–ª—è AI
-   `/promptpro <—Ç–µ–∫—Å—Ç_–ø—Ä–æ–º–ø—Ç–∞>` - üöÄ PRO –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ (–∑–∞–ø—Ä–æ—Å–∞) –¥–ª—è AI
-   `/rewrite <—Ç–µ–∫—Å—Ç>` - üéì –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–º —Å—Ç–∏–ª–µ (–¥–ª—è –¥–∏–ø–ª–æ–º–∞ –∏–ª–∏ –∫—É—Ä—Å–æ–≤–æ–π)
-   `/simplify <—Ç–µ–∫—Å—Ç>` - üí° –£–ø—Ä–æ—Å—Ç–∏—Ç—å —Ç–µ–∫—Å—Ç, —Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –ø–æ–Ω—è—Ç–Ω–µ–µ
-   `/elaborate <—Ç–µ–∫—Å—Ç>` - üìö –†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–µ–∫—Å—Ç, –¥–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª–∏ (–∞–∫–∞–¥–µ–º. —Å—Ç–∏–ª—å)
-   `/formal <—Ç–µ–∫—Å—Ç>` - üëî –°–¥–µ–ª–∞—Ç—å —Ç–µ–∫—Å—Ç –±–æ–ª–µ–µ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–º –∏ –¥–µ–ª–æ–≤—ã–º
-   `/proofread <—Ç–µ–∫—Å—Ç>` - ‚úçÔ∏è –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏, –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏, –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏
-   `/list <—Ç–µ–∫—Å—Ç>` - üìã –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ –º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–ª–∏ –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
-   `/table <—Ç–µ–∫—Å—Ç>` - üìä –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ —Ç–∞–±–ª–∏—Ü—É Markdown
-   `/todo <—Ç–µ–∫—Å—Ç>` - ‚òëÔ∏è –°–æ–∑–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á (todo list) –∏–∑ —Ç–µ–∫—Å—Ç–∞
-   `/markdown <—Ç–µ–∫—Å—Ç>` - #Ô∏è‚É£ –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤–æ–µ Markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
-   `/dayplanner <–æ–ø–∏—Å–∞–Ω–∏–µ_–¥–Ω—è>` - üìÖ –£–º–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –¥–Ω—è (–∑–∞–¥–∞—á–∏, –µ–¥–∞)

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (Deployment)

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (Debian/Ubuntu-based) —Å –ø–æ–º–æ—â—å—é GitHub Actions –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø—É—à–µ –≤ –≤–µ—Ç–∫—É `main`.

-   **Workflow (`.github/workflows/deploy.yml`):**
    1.  –ö–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ (–∏—Å–∫–ª—é—á–∞—è `venv`, `.env`, `.git`, `.github`, `whitelist.txt`) –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ `rsync`.
    2.  –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
        *   –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `rsync`, `python3.13-venv`, `curl`).
        *   –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç `uv` (–±—ã—Å—Ç—Ä—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ Python).
        *   –°–æ–∑–¥–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ `.venv` —Å –ø–æ–º–æ—â—å—é `uv` –∏ Python 3.13.
        *   –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt` —Å –ø–æ–º–æ—â—å—é `uv pip install`.
        *   –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å `systemd` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `tg_gemini_bot.service`), –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞.

-   **–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ–∫—Ä–µ—Ç—ã GitHub Actions:** `SERVER_SSH_KEY` (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á) –∏ `SERVER_IP` (IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞).

-   **–í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è:**
    *   **Systemd —Å–µ—Ä–≤–∏—Å:** –§–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `tg_gemini_bot.service`) –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞—Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω –≤ `/etc/systemd/system/` –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞ `gemini_bot.py` –∏–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
    *   **Python –≤–µ—Ä—Å–∏—è:** –°–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ Python 3.13.
    *   **`whitelist.txt`:** –≠—Ç–æ—Ç —Ñ–∞–π–ª –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
    *   **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** –°–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø—Ä–∞–≤ –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫—É –ø–∞–∫–µ—Ç–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏ `systemd` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ [pythonanywhere.com](https://www.pythonanywhere.com/), –Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ GitHub Actions –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Å `systemd`.

<br>
<br>

<a id="en-section"></a>
## EN
---

# Google Gemini-based Telegram Bot

[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/)
[![Telegram Bot](https://img.shields.io/badge/Telegram-%40degenerative__ai__bot-blue)](https://t.me/degenerative_ai_bot)
[![Deploy to Server](https://github.com/aeee78/tg_gemini_bot/actions/workflows/deploy.yml/badge.svg)](https://github.com/aeee78/tg_gemini_bot/actions/workflows/deploy.yml)

This project implements a Telegram bot that uses the Google Gemini API to interact with users. The bot supports various Gemini models, image generation, file processing, Google Search integration, quick tools for specific tasks, and flexible dialogue management.

## > Live bot available at [@degenerative_ai_bot](https://t.me/degenerative_ai_bot)

## Key Features

-   **Intelligent Chat:** The bot maintains conversation context for natural communication.
-   **Support for Multiple Gemini Models:** Choose the optimal model for your tasks:
    -   `2.5 Flash üöÄ` (`gemini-2.5-flash-preview-05-20`)
    -   `2.5 Proüí°` (`gemini-2.5-pro-preview-05-06`) - Access to this model can be unlocked with a special code (see the `/unlock_pro` command).
    -   `2.0 Flash‚ùì` (`gemini-2.0-flash`)
-   **Image Generation:** Create images from text prompts using the `/generate <prompt>` command (uses the `gemini-2.0-flash-exp-image-generation` model).
-   **Image Description:** Send an image to the bot, and it will describe it.
-   **File Processing:** Send files (PDF, TXT, PY, JS, HTML, CSS, MD, CSV, XML, RTF) up to 20 MB to the bot. The bot will consider their content in responses during the current session.
-   **Message Sending Modes:**
    -   `Instant ‚ö°`: Each message/photo/file is sent to Gemini immediately.
    -   `Manual ‚úçÔ∏è`: Messages/photos/files accumulate in a buffer. Press the "Send all" button to send them at once.
-   **Google Search Integration:** Enable Google Search (button "Search: ...") so the bot can use up-to-date information from the internet and provide source links.
-   **Quick Tools:** A set of commands (e.g., `/translate`, `/rewrite`, `/prompt`) for performing specific tasks with predefined instructions. These commands do not affect the main chat. See the "Commands" section for a full list.
-   **Context Management:** Start a "New Chat" to clear history and context (including uploaded files).
-   **Handling Long Responses:** Responses exceeding Telegram's limit are automatically split. The full text can be obtained as a .txt file (inline button "Get as file") or .md file (button "Get .MD üìÑ").
-   **Dynamic Interface:** The main keyboard displays the currently selected model, sending mode, and Google Search status.

## Installation and Setup

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/aeee78/tg_gemini_bot.git
    cd tg_gemini_bot
    ```
2.  **Create and activate a virtual environment (recommended):**
    ```bash
    python -m venv venv
    source venv/bin/activate  # Linux/macOS
    # venv\Scripts\activate  # Windows
    ```
3.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```
4.  **Obtain API keys:**
    -   **Telegram API:** Create a bot and get a token via [@BotFather](https://t.me/BotFather).
    -   **Google Gemini API:** Get an API key from [Google AI Studio](https://aistudio.google.com/apikey).
5.  **Configure environment variables:**
    Create a `.env` file in the project's root directory (you can copy `.env.example` and rename it: `cp env.example .env`). Add your keys:
    ```plaintext
    TELEGRAM_TOKEN=<your_telegram_token>
    GEMINI_API_KEY=<your_gemini_api_key>
    PRO_CODE=<your_pro_access_code_optional> # Set this code to enable the /unlock_pro command for accessing the 2.5 Pro model
    ```
6.  **Run the bot:**
    ```bash
    python gemini_bot.py
    ```

## Usage

1.  **Getting Started:** Send the `/start` command to the bot. The bot will greet you and show the main keyboard.
2.  **Interacting:**
    -   Simply type text messages.
    -   Send photos (the bot will describe them or consider them in context if manual mode is enabled).
    -   Send supported files (the bot will consider their content).
3.  **Model Selection:** Press the `Model: ...` button to choose a different Gemini version from the list. Access to `2.5 Proüí°` may require entering a code via the `/unlock_pro <code>` command. Changing the model starts a new chat.
4.  **Sending Mode:** Press the `Mode: ...` button to switch between `Instant ‚ö°` and `Manual ‚úçÔ∏è`. In manual mode, use the `Send all` button to send accumulated messages/photos/files.
5.  **Google Search:** Press the `Search: ...` button to enable or disable Google Search.
6.  **Image Generation:** Use the `/generate <your text prompt>` command.
7.  **Downloading Long Responses:** If a response was split, use the inline button "Get as file" (.txt) or the main button "Get .MD üìÑ" (.md).
8.  **New Dialogue:** Press the `New Chat` button to reset the conversation history and context.
9.  **Quick Tools:** Use commands starting with `/` (e.g., `/translate <text>`) to perform specific tasks. See the full list in the "Commands" section.
10. **Unlock PRO Model:** If the bot administrator has configured `PRO_CODE`, you can use the `/unlock_pro <access_code>` command to gain access to the `2.5 Proüí°` model.
11. **Help:** Use the `/help` command to get detailed information about the bot's features.

## Commands

-   `/start` - üöÄ Restart bot / Start chat
-   `/generate <prompt>` - üñºÔ∏è Generate image (e.g., `/generate cat`)
-   `/help` - ‚ÑπÔ∏è Help with bot features
-   `/unlock_pro <code>` - üîë Unlock access to the `2.5 Proüí°` model (if `PRO_CODE` is set in .env).

### Quick Tools

These commands perform one-off tasks and do not affect your main chat context. They use predefined system instructions for specific purposes.

-   `/translate <text>` - ru<>en Translate text
-   `/prompt <prompt_text>` - ‚ú® Enhance prompt for AI
-   `/promptpro <prompt_text>` - üöÄ PRO Enhance prompt for AI
-   `/rewrite <text>` - üéì Rewrite text in an academic style (for a thesis or coursework)
-   `/simplify <text>` - üí° Simplify text, make it easier to understand
-   `/elaborate <text>` - üìö Expand text, add details (academic style)
-   `/formal <text>` - üëî Make text more formal and business-like
-   `/proofread <text>` - ‚úçÔ∏è Correct grammar, spelling, punctuation
-   `/list <text>` - üìã Convert text into a bulleted or numbered list
-   `/table <text>` - üìä Convert text into a Markdown table
-   `/todo <text>` - ‚òëÔ∏è Create a to-do list from text
-   `/markdown <text>` - #Ô∏è‚É£ Add basic Markdown formatting
-   `/dayplanner <day_description>` - üìÖ Smart day planner (tasks, meals)

## Deployment

The project is configured for automatic deployment to a server (Debian/Ubuntu-based) using GitHub Actions on every push to the `main` branch.

-   **Workflow (`.github/workflows/deploy.yml`):**
    1.  Copies project files (excluding `venv`, `.env`, `.git`, `.github`, `whitelist.txt`) to the server via `rsync`.
    2.  On the server:
        *   Installs system dependencies (e.g., `rsync`, `python3.13-venv`, `curl`).
        *   Installs/updates `uv` (a fast Python package manager).
        *   Creates a `.venv` virtual environment using `uv` and Python 3.13.
        *   Installs dependencies from `requirements.txt` using `uv pip install`.
        *   Restarts the `systemd` service (e.g., `tg_gemini_bot.service`), which must be pre-configured on the server to run the bot.

-   **Required GitHub Actions Secrets:** `SERVER_SSH_KEY` (private SSH key) and `SERVER_IP` (server IP address).

-   **Important Notes:**
    *   **Systemd service:** The service file (e.g., `tg_gemini_bot.service`) must be created in `/etc/systemd/system/` beforehand and configured to run `gemini_bot.py` from the virtual environment.
    *   **Python version:** The deployment script targets Python 3.13.
    *   **`whitelist.txt`:** This file is excluded from synchronization to avoid overwriting an existing one on the server.
    *   **Permissions:** The script assumes it has permissions to install packages and manage `systemd` services on the server.

**Note:** You can also host the project for free on [pythonanywhere.com](https://www.pythonanywhere.com/), but automatic deployment via GitHub Actions is configured for a dedicated server with `systemd`.