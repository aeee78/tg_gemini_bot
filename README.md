# Telegram-бот на основе Google Gemini

Этот проект реализует Telegram-бота, использующего Gemini Developer API для взаимодействия с пользователями через чат. Бот предоставляет возможности выбора различных моделей и генерации изображений, что обеспечивает естественное и связное общение.

### > Рабочий ~~(если сервер не лег)~~ бот уже доступен по адресу [@gemini_bot](https://t.me/degenerative_ai_bot)

## Основные возможности

- **Поддержка нескольких моделей:**
    Бот позволяет выбирать среди различных моделей Gemini, оптимизированных для различных задач (рассуждения, творческая генерация текста и т.д.).
    **Доступные модели:**

    - `Gemini 2.0 Flash Thinking Experimental 01-21`
    - `Gemini 2.5 Pro Experimental 03-25`
    - `Gemini 2.0 Flash`
    - `Gemini 2.0 Flash (Image Generation) Experimental`
- **Генерация изображений:**
    Используя специализированную модель, бот генерирует изображения по запросам пользователя.

- **Управление контекстом разговора:**
    Бот сохраняет историю переписки, что позволяет поддерживать контекст и делать общение более естественным. При необходимости можно начать новый чат для очистки истории.

- **Обработка длинных ответов:**
    Для сообщений, превышающих ограничение Telegram, бот автоматически делит ответ на несколько сообщений и предлагает получить полный текст в виде файла.

## Установка и настройка

### 1. Установка зависимостей

Установите необходимые библиотеки с помощью pip:

```bash
pip install -r requirements.txt
```

### 2. Получение API ключей

- **Telegram API:**
    Получите токен вашего Telegram-бота через [BotFather](https://t.me/BotFather).

- **Google Gemini API:**
    Получите API ключ для доступа к Gemini по адресу: [Google AI Studio](https://aistudio.google.com/apikey).

### 3. Настройка переменных окружения

Создайте файл `.env` в корневой директории проекта и добавьте следующие строки, заменив плейсхолдеры на свои ключи:

```plaintext
TELEGRAM_TOKEN=<ваш_токен_telegram>
GEMINI_API_KEY=<ваш_api_ключ_gemini>
```

### 4. Запуск бота

Запустите бота командой:

```bash
python gemini_bot.py
```

**Примечание:** Вы также можете бесплатно разместить проект на [pythonanywhere.com](https://www.pythonanywhere.com/).

## Использование

После запуска бота выполните следующие шаги:

1. **Взаимодействие через Telegram:**
    Откройте чат с ботом и воспользуйтесь основной клавиатурой для:

    - Начала нового чата (очистка истории беседы)
    - Выбора модели Gemini
    - Получения длинных ответов в виде файла (если ответ разделен на несколько сообщений)

2. **Генерация изображений:**
    Для генерации изображения начните сообщение с одного из ключевых слов, соответствующих модели генерации изображений.
    Чтобы получить описание изображения, отправьте его боту.
